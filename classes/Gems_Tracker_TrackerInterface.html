<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>GemsTracker library API » \Gems_Tracker_TrackerInterface</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">GemsTracker library API</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/Gems.html"><i class="icon-th"></i> Gems</a></li>
<li><a href="../namespaces/global.html"><i class="icon-th"></i> global</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/Gems.html"><i class="icon-folder-open"></i> Gems</a></li>
<li><a href="../packages/MUtil.html"><i class="icon-folder-open"></i> MUtil</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">3436</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">157</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div xmlns:php="http://php.net/xsl" class="btn-toolbar">
<div class="btn-group visibility" data-toggle="buttons-checkbox">
<button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button>
</div>
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
</div>
<ul xmlns:php="http://php.net/xsl" class="side-nav nav nav-list"><li class="nav-header">
<i title="Methods" class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_checkTrackRounds" title="checkTrackRounds() :: Checks tracks for changes to the the track and round definitions
and corrects them."><span class="description">Checks tracks for changes to the the track and round definitions
and corrects them.</span><pre>checkTrackRounds()</pre></a></li>
<li class="method public "><a href="#method_createRespondentTrack" title="createRespondentTrack() :: Create a new track for a patient"><span class="description">Create a new track for a patient</span><pre>createRespondentTrack()</pre></a></li>
<li class="method public "><a href="#method_createTrackClass" title="createTrackClass() :: Dynamically load and create a [Gems|Project]_Tracker class"><span class="description">Dynamically load and create a [Gems|Project]_Tracker class</span><pre>createTrackClass()</pre></a></li>
<li class="method public "><a href="#method_filterChangesOnly" title="filterChangesOnly() :: Utility function for detecting unchanged values."><span class="description">Utility function for detecting unchanged values.</span><pre>filterChangesOnly()</pre></a></li>
<li class="method public "><a href="#method_filterToken" title="filterToken() :: Removes all unacceptable characters from the input token and inserts any fixed characters left out"><span class="description">Removes all unacceptable characters from the input token and inserts any fixed characters left out</span><pre>filterToken()</pre></a></li>
<li class="method public "><a href="#method_getAllCodeFields" title="getAllCodeFields() :: Returns an array of all field id's for all tracks that have a code id"><span class="description">Returns an array of all field id's for all tracks that have a code id</span><pre>getAllCodeFields()</pre></a></li>
<li class="method public "><a href="#method_getAppointment" title="getAppointment() :: Get an appointment object"><span class="description">Get an appointment object</span><pre>getAppointment()</pre></a></li>
<li class="method public "><a href="#method_getAskTokenForm" title="getAskTokenForm() :: Returns a form to ask for a token"><span class="description">Returns a form to ask for a token</span><pre>getAskTokenForm()</pre></a></li>
<li class="method public "><a href="#method_getRespondentTrack" title="getRespondentTrack() :: "><span class="description">getRespondentTrack()
        </span><pre>getRespondentTrack()</pre></a></li>
<li class="method public "><a href="#method_getRespondentTrackModel" title="getRespondentTrackModel() :: Load project specific model or general Gems model otherwise"><span class="description">Load project specific model or general Gems model otherwise</span><pre>getRespondentTrackModel()</pre></a></li>
<li class="method public "><a href="#method_getRespondentTracks" title="getRespondentTracks() :: Get all tracks for a respondent"><span class="description">Get all tracks for a respondent</span><pre>getRespondentTracks()</pre></a></li>
<li class="method public "><a href="#method_getSource" title="getSource() :: Retrieve a SourceInterface with a given id"><span class="description">Retrieve a SourceInterface with a given id</span><pre>getSource()</pre></a></li>
<li class="method public "><a href="#method_getSourceClasses" title="getSourceClasses() :: Returns all registered source classes"><span class="description">Returns all registered source classes</span><pre>getSourceClasses()</pre></a></li>
<li class="method public "><a href="#method_getSourceDatabaseClasses" title="getSourceDatabaseClasses() :: Returns all registered database source classes"><span class="description">Returns all registered database source classes</span><pre>getSourceDatabaseClasses()</pre></a></li>
<li class="method public "><a href="#method_getSurvey" title="getSurvey() :: "><span class="description">getSurvey()
        </span><pre>getSurvey()</pre></a></li>
<li class="method public "><a href="#method_getSurveyBySourceId" title="getSurveyBySourceId() :: "><span class="description">getSurveyBySourceId()
        </span><pre>getSurveyBySourceId()</pre></a></li>
<li class="method public "><a href="#method_getSurveyModel" title="getSurveyModel() :: "><span class="description">getSurveyModel()
        </span><pre>getSurveyModel()</pre></a></li>
<li class="method public "><a href="#method_getToken" title="getToken() :: "><span class="description">getToken()
        </span><pre>getToken()</pre></a></li>
<li class="method public "><a href="#method_getTokenFilter" title="getTokenFilter() :: "><span class="description">getTokenFilter()
        </span><pre>getTokenFilter()</pre></a></li>
<li class="method public "><a href="#method_getTokenLibrary" title="getTokenLibrary() :: Use this function only within \Gems_Tracker!!"><span class="description">Use this function only within \Gems_Tracker!!</span><pre>getTokenLibrary()</pre></a></li>
<li class="method public "><a href="#method_getTokenModel" title="getTokenModel() :: Returns a token model of the specified class with full display information"><span class="description">Returns a token model of the specified class with full display information</span><pre>getTokenModel()</pre></a></li>
<li class="method public "><a href="#method_getTokenSelect" title="getTokenSelect() :: Create a select statement on the token table"><span class="description">Create a select statement on the token table</span><pre>getTokenSelect()</pre></a></li>
<li class="method public "><a href="#method_getTokenValidator" title="getTokenValidator() :: "><span class="description">getTokenValidator()
        </span><pre>getTokenValidator()</pre></a></li>
<li class="method public "><a href="#method_getTrackDisplayGroups" title="getTrackDisplayGroups() :: Get the allowed display groups for tracks in this project."><span class="description">Get the allowed display groups for tracks in this project.</span><pre>getTrackDisplayGroups()</pre></a></li>
<li class="method public "><a href="#method_getTrackEngine" title="getTrackEngine() :: "><span class="description">getTrackEngine()
        </span><pre>getTrackEngine()</pre></a></li>
<li class="method public "><a href="#method_getTrackEngineClasses" title="getTrackEngineClasses() :: Returns dummy objects for all registered track engines class names"><span class="description">Returns dummy objects for all registered track engines class names</span><pre>getTrackEngineClasses()</pre></a></li>
<li class="method public "><a href="#method_getTrackEngineEditSnippets" title="getTrackEngineEditSnippets() :: Return the edit snippets for editing or creating a new track"><span class="description">Return the edit snippets for editing or creating a new track</span><pre>getTrackEngineEditSnippets()</pre></a></li>
<li class="method public "><a href="#method_getTrackEngineList" title="getTrackEngineList() :: Returns all registered track engines classes for use in drop down lists."><span class="description">Returns all registered track engines classes for use in drop down lists.</span><pre>getTrackEngineList()</pre></a></li>
<li class="method public "><a href="#method_getTrackModel" title="getTrackModel() :: Simple function for a default track model."><span class="description">Simple function for a default track model.</span><pre>getTrackModel()</pre></a></li>
<li class="method public "><a href="#method_processCompletedTokens" title="processCompletedTokens() :: Checks the token table to see if there are any answered surveys to be processed"><span class="description">Checks the token table to see if there are any answered surveys to be processed</span><pre>processCompletedTokens()</pre></a></li>
<li class="method public "><a href="#method_recalcTrackFields" title="recalcTrackFields() :: Recalculates the fields in tracks."><span class="description">Recalculates the fields in tracks.</span><pre>recalcTrackFields()</pre></a></li>
<li class="method public "><a href="#method_recalculateTokens" title="recalculateTokens() :: Recalculates all token dates, timing and results
and outputs text messages."><span class="description">Recalculates all token dates, timing and results
and outputs text messages.</span><pre>recalculateTokens()</pre></a></li>
<li class="method public "><a href="#method_refreshTokenAttributes" title="refreshTokenAttributes() :: Refreshes the tokens in the source"><span class="description">Refreshes the tokens in the source</span><pre>refreshTokenAttributes()</pre></a></li>
<li class="method public "><a href="#method_removeToken" title="removeToken() :: Remove token from cache for saving memory"><span class="description">Remove token from cache for saving memory</span><pre>removeToken()</pre></a></li>
<li class="method public "><a href="#method_synchronizeSources" title="synchronizeSources() :: Recalculates all token dates, timing and results
and outputs text messages."><span class="description">Recalculates all token dates, timing and results
and outputs text messages.</span><pre>synchronizeSources()</pre></a></li>
</ul>
</li></ul>
</div>
<div class="span8">
<a xmlns:php="http://php.net/xsl" id="\Gems_Tracker_TrackerInterface"></a><ul xmlns:php="http://php.net/xsl" class="breadcrumb">
<li>
<a href="../index.html"><i title="Classes" class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/Gems_Tracker_TrackerInterface.html">Gems_Tracker_TrackerInterface</a>
</li>
</ul>
<div xmlns:php="http://php.net/xsl" class="element interface">
<p class="short_description">This interface lists all API-level methods in the Tracker class.</p>
<div class="details">
<div class="long_description"><p>This interface only exists to prevent the \Gems_Loader_TargetLoaderAbstract
functions of being accessible when working with a tracker. Do not create
a second implementation is this interface but always create a subclass of
the \Gems_Tracker class.</p>
<p>The tracker is the central access point doing anything with tracks or tokens.</p>
<p>Tracker contains a number of getXxx functions to create Token, Survey,
RespondentTrack, [Survey]SourceInterface and TrackEngine objects.</p>
<p>Tracker also offers \MUtil_Model_ModelAbstract children for RespondentTracks,
Surveys, Tokens and Tracks.</p>
<p>Other object classes accessible through gems_Tracker are TokenLibrary (defines
how tokens are created and checked), TokenSelect (\Gems_Tracker_Token_TokenSelect
extension) and TokenValidator.</p>
<p>Other functions are general utility functions, e.g. checkTrackRounds(), createToken(),
processCompletedTokens() and recalculateTokens().</p></div>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/Gems.Tracker.html">Gems</a></td>
</tr>
<tr>
<th>subpackage</th>
<td>Tracker</td>
</tr>
<tr>
<th>copyright</th>
<td>Copyright (c) 2011 Erasmus MC</td>
</tr>
<tr>
<th>license</th>
<td><a href="http://opensource.org/licenses/BSD-3-Clause">New BSD License</a></td>
</tr>
<tr>
<th>since</th>
<td>Class available since version 1.4</td>
</tr>
</table>
<h3>
<i title="Methods" class="icon-custom icon-method"></i> Methods</h3>
<a id="method_checkTrackRounds"></a><div class="element clickable method public method_checkTrackRounds " data-toggle="collapse" data-target=".method_checkTrackRounds .collapse" title="public">
<h2>Checks tracks for changes to the the track and round definitions
and corrects them.</h2>
<pre>checkTrackRounds(string $batchId, integer $userId<code> = null</code>, string $cond<code> = null</code>) : \Gems_Task_TaskRunnerBatch</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Does recalculate changed tracks</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$batchId</h4>
<code>string</code><p>A unique identifier for the current batch</p></div>
<div class="subelement argument">
<h4>$userId</h4>
<code>integer</code><p>Id of the user who takes the action (for logging)</p></div>
<div class="subelement argument">
<h4>$cond</h4>
<code>string</code><p>Optional where statement for selecting tracks</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Gems_Task_TaskRunnerBatch</code>A batch to process the changes</div>
</div></div>
</div>
<a id="method_createRespondentTrack"></a><div class="element clickable method public method_createRespondentTrack " data-toggle="collapse" data-target=".method_createRespondentTrack .collapse" title="public">
<h2>Create a new track for a patient</h2>
<pre>createRespondentTrack(integer $respondentId, integer $organizationId, integer $trackId, integer $userId, mixed $respTrackData<code> = null</code>, array $trackFieldsData<code> = array()</code>) : \Gems_Tracker_RespondentTrack</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$respondentId</h4>
<code>integer</code><p>The real patientId (grs_id_user), not the patientnr (gr2o_patient_nr)</p></div>
<div class="subelement argument">
<h4>$organizationId</h4>
<code>integer</code>
</div>
<div class="subelement argument">
<h4>$trackId</h4>
<code>integer</code>
</div>
<div class="subelement argument">
<h4>$userId</h4>
<code>integer</code><p>Id of the user who takes the action (for logging)</p></div>
<div class="subelement argument">
<h4>$respTrackData</h4>
<code>mixed</code><p>Optional array containing field values or the start date.</p></div>
<div class="subelement argument">
<h4>$trackFieldsData</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Gems_Tracker_RespondentTrack</code>The newly created track</div>
</div></div>
</div>
<a id="method_createTrackClass"></a><div class="element clickable method public method_createTrackClass " data-toggle="collapse" data-target=".method_createTrackClass .collapse" title="public">
<h2>Dynamically load and create a [Gems|Project]_Tracker class</h2>
<pre>createTrackClass(string $className, mixed $param1<code> = null</code>, mixed $param2<code> = null</code>) : object</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$className</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$param1</h4>
<code>mixed</code>
</div>
<div class="subelement argument">
<h4>$param2</h4>
<code>mixed</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>object</code></div>
</div></div>
</div>
<a id="method_filterChangesOnly"></a><div class="element clickable method public method_filterChangesOnly " data-toggle="collapse" data-target=".method_filterChangesOnly .collapse" title="public">
<h2>Utility function for detecting unchanged values.</h2>
<pre>filterChangesOnly(array $oldValues, array $newValues) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$oldValues</h4>
<code>array</code>
</div>
<div class="subelement argument">
<h4>$newValues</h4>
<code>array</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_filterToken"></a><div class="element clickable method public method_filterToken " data-toggle="collapse" data-target=".method_filterToken .collapse" title="public">
<h2>Removes all unacceptable characters from the input token and inserts any fixed characters left out</h2>
<pre>filterToken(string $tokenId) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tokenId</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>Reformatted token</div>
</div></div>
</div>
<a id="method_getAllCodeFields"></a><div class="element clickable method public method_getAllCodeFields " data-toggle="collapse" data-target=".method_getAllCodeFields .collapse" title="public">
<h2>Returns an array of all field id's for all tracks that have a code id</h2>
<pre>getAllCodeFields() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>id => code</div>
</div></div>
</div>
<a id="method_getAppointment"></a><div class="element clickable method public method_getAppointment " data-toggle="collapse" data-target=".method_getAppointment .collapse" title="public">
<h2>Get an appointment object</h2>
<pre>getAppointment(mixed $appointmentData) : \Gems_Agenda_Appointment</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$appointmentData</h4>
<code>mixed</code><p>Appointment id or array containing appintment data</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Agenda_Appointment</code></div>
</div></div>
</div>
<a id="method_getAskTokenForm"></a><div class="element clickable method public method_getAskTokenForm " data-toggle="collapse" data-target=".method_getAskTokenForm .collapse" title="public">
<h2>Returns a form to ask for a token</h2>
<pre>getAskTokenForm(mixed $args_array<code> = null</code>) : \Gems_Tracker_Form_AskTokenForm</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$args_array</h4>
<code>mixed</code><p>\MUtil_Ra::args array for Form initiation.</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Form_AskTokenForm</code></div>
</div></div>
</div>
<a id="method_getRespondentTrack"></a><div class="element clickable method public method_getRespondentTrack " data-toggle="collapse" data-target=".method_getRespondentTrack .collapse" title="public">
<h2>getRespondentTrack()
        </h2>
<pre>getRespondentTrack(mixed $respTrackData) : \Gems_Tracker_RespondentTrack</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$respTrackData</h4>
<code>mixed</code><p>Track id or array containing trackdata</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_RespondentTrack</code></div>
</div></div>
</div>
<a id="method_getRespondentTrackModel"></a><div class="element clickable method public method_getRespondentTrackModel " data-toggle="collapse" data-target=".method_getRespondentTrackModel .collapse" title="public">
<h2>Load project specific model or general Gems model otherwise</h2>
<pre>getRespondentTrackModel() : \Gems_Tracker_Model_RespondentTrackModel</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Model_RespondentTrackModel</code></div>
</div></div>
</div>
<a id="method_getRespondentTracks"></a><div class="element clickable method public method_getRespondentTracks " data-toggle="collapse" data-target=".method_getRespondentTracks .collapse" title="public">
<h2>Get all tracks for a respondent</h2>
<pre>getRespondentTracks(integer $respondentId, integer $organizationId, mixed $order<code> = array('gr2t_start_date')</code>) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Specify the optional $order to sort other than on start date</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$respondentId</h4>
<code>integer</code>
</div>
<div class="subelement argument">
<h4>$organizationId</h4>
<code>integer</code>
</div>
<div class="subelement argument">
<h4>$order</h4>
<code>mixed</code><p>The column(s) and direction to order by</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>of \Gems_Tracker_RespondentTrack</div>
</div></div>
</div>
<a id="method_getSource"></a><div class="element clickable method public method_getSource " data-toggle="collapse" data-target=".method_getSource .collapse" title="public">
<h2>Retrieve a SourceInterface with a given id</h2>
<pre>getSource(mixed $sourceData) : \Gems_Tracker_Source_SourceInterface</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Should only be called by \Gems_Tracker, \Gems_Tracker_Survey or \Gems_Tracker_Token (or should
this one use \Gems_Tracker_Survey instead?)</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sourceData</h4>
<code>mixed</code><p>Gems source id or array containing gems source data</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Source_SourceInterface</code></div>
</div></div>
</div>
<a id="method_getSourceClasses"></a><div class="element clickable method public method_getSourceClasses " data-toggle="collapse" data-target=".method_getSourceClasses .collapse" title="public">
<h2>Returns all registered source classes</h2>
<pre>getSourceClasses() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Of classname => description</div>
</div></div>
</div>
<a id="method_getSourceDatabaseClasses"></a><div class="element clickable method public method_getSourceDatabaseClasses " data-toggle="collapse" data-target=".method_getSourceDatabaseClasses .collapse" title="public">
<h2>Returns all registered database source classes</h2>
<pre>getSourceDatabaseClasses() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Of classname => description</div>
</div></div>
</div>
<a id="method_getSurvey"></a><div class="element clickable method public method_getSurvey " data-toggle="collapse" data-target=".method_getSurvey .collapse" title="public">
<h2>getSurvey()
        </h2>
<pre>getSurvey(mixed $surveyData) : \Gems_Tracker_Survey</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$surveyData</h4>
<code>mixed</code><p>Gems survey id or array containing gems survey data</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Survey</code></div>
</div></div>
</div>
<a id="method_getSurveyBySourceId"></a><div class="element clickable method public method_getSurveyBySourceId " data-toggle="collapse" data-target=".method_getSurveyBySourceId .collapse" title="public">
<h2>getSurveyBySourceId()
        </h2>
<pre>getSurveyBySourceId(mixed $sourceSurveyId, integer $sourceId) : \Gems_Tracker_Survey</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sourceSurveyId</h4>
<code>mixed</code><p>The source survey id</p></div>
<div class="subelement argument">
<h4>$sourceId</h4>
<code>integer</code><p>The gems source id of the source</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Survey</code></div>
</div></div>
</div>
<a id="method_getSurveyModel"></a><div class="element clickable method public method_getSurveyModel " data-toggle="collapse" data-target=".method_getSurveyModel .collapse" title="public">
<h2>getSurveyModel()
        </h2>
<pre>getSurveyModel(\Gems_Tracker_Survey $survey, \Gems_Tracker_Source_SourceInterface $source) : \Gems_Tracker_SurveyModel</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$survey</h4>
<code>\Gems_Tracker_Survey</code>
</div>
<div class="subelement argument">
<h4>$source</h4>
<code>\Gems_Tracker_Source_SourceInterface</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_SurveyModel</code></div>
</div></div>
</div>
<a id="method_getToken"></a><div class="element clickable method public method_getToken " data-toggle="collapse" data-target=".method_getToken .collapse" title="public">
<h2>getToken()
        </h2>
<pre>getToken(mixed $tokenData) : \Gems_Tracker_Token</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$tokenData</h4>
<code>mixed</code><p>Token id or array containing tokendata</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Token</code></div>
</div></div>
</div>
<a id="method_getTokenFilter"></a><div class="element clickable method public method_getTokenFilter " data-toggle="collapse" data-target=".method_getTokenFilter .collapse" title="public">
<h2>getTokenFilter()
        </h2>
<pre>getTokenFilter() : \Gems_Tracker_Token_TokenFilter</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Token_TokenFilter</code></div>
</div></div>
</div>
<a id="method_getTokenLibrary"></a><div class="element clickable method public method_getTokenLibrary " data-toggle="collapse" data-target=".method_getTokenLibrary .collapse" title="public">
<h2>Use this function only within \Gems_Tracker!!</h2>
<pre>getTokenLibrary() : \Gems_Tracker_Token_TokenLibrary</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Token_TokenLibrary</code></div>
</div></div>
</div>
<a id="method_getTokenModel"></a><div class="element clickable method public method_getTokenModel " data-toggle="collapse" data-target=".method_getTokenModel .collapse" title="public">
<h2>Returns a token model of the specified class with full display information</h2>
<pre>getTokenModel(string $modelClass<code> = 'StandardTokenModel'</code>) : \Gems_Tracker_Model_StandardTokenModel</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$modelClass</h4>
<code>string</code><p>Optional class to use instead of StandardTokenModel. Must be subclass.</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Model_StandardTokenModel</code></div>
</div></div>
</div>
<a id="method_getTokenSelect"></a><div class="element clickable method public method_getTokenSelect " data-toggle="collapse" data-target=".method_getTokenSelect .collapse" title="public">
<h2>Create a select statement on the token table</h2>
<pre>getTokenSelect($fields<code> = '*'</code>) : \Gems_Tracker_Token_TokenSelect</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$fields</h4></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Token_TokenSelect</code></div>
</div></div>
</div>
<a id="method_getTokenValidator"></a><div class="element clickable method public method_getTokenValidator " data-toggle="collapse" data-target=".method_getTokenValidator .collapse" title="public">
<h2>getTokenValidator()
        </h2>
<pre>getTokenValidator() : \Gems_Tracker_Token_TokenValidator</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Token_TokenValidator</code></div>
</div></div>
</div>
<a id="method_getTrackDisplayGroups"></a><div class="element clickable method public method_getTrackDisplayGroups " data-toggle="collapse" data-target=".method_getTrackDisplayGroups .collapse" title="public">
<h2>Get the allowed display groups for tracks in this project.</h2>
<pre>getTrackDisplayGroups() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>array</code></div>
</div></div>
</div>
<a id="method_getTrackEngine"></a><div class="element clickable method public method_getTrackEngine " data-toggle="collapse" data-target=".method_getTrackEngine .collapse" title="public">
<h2>getTrackEngine()
        </h2>
<pre>getTrackEngine(mixed $trackData) : \Gems_Tracker_Engine_TrackEngineInterface</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$trackData</h4>
<code>mixed</code><p>Gems track id or array containing gems track data</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Engine_TrackEngineInterface</code></div>
</div></div>
</div>
<a id="method_getTrackEngineClasses"></a><div class="element clickable method public method_getTrackEngineClasses " data-toggle="collapse" data-target=".method_getTrackEngineClasses .collapse" title="public">
<h2>Returns dummy objects for all registered track engines class names</h2>
<pre>getTrackEngineClasses() : array</pre>
<div class="labels"><span class="label">Static</span></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Instead of creating another object layer all classes defined by
getTrackEngineClassNames() are loaded with dummy data so that the
TrackEngineInterface functions containing general class information
can be used.</p></div>
<table class="table table-bordered">
<tr>
<th>see</th>
<td><a href="%5C%5CgetTrackEngineClassNames()"></a></td>
</tr>
<tr>
<th>static</th>
<td>$dummyClasses Cache array</td>
</tr>
</table>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Of \Gems_Tracker_Engine_TrackEngineInterface</div>
</div></div>
</div>
<a id="method_getTrackEngineEditSnippets"></a><div class="element clickable method public method_getTrackEngineEditSnippets " data-toggle="collapse" data-target=".method_getTrackEngineEditSnippets .collapse" title="public">
<h2>Return the edit snippets for editing or creating a new track</h2>
<pre>getTrackEngineEditSnippets() : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>of snippet names for creating a new track engine</div>
</div></div>
</div>
<a id="method_getTrackEngineList"></a><div class="element clickable method public method_getTrackEngineList " data-toggle="collapse" data-target=".method_getTrackEngineList .collapse" title="public">
<h2>Returns all registered track engines classes for use in drop down lists.</h2>
<pre>getTrackEngineList(boolean $extended<code> = false</code>, boolean $userCreatableOnly<code> = false</code>) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$extended</h4>
<code>boolean</code><p>When true return a longer name.</p></div>
<div class="subelement argument">
<h4>$userCreatableOnly</h4>
<code>boolean</code><p>Return only the classes that can be created by the user interface</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>Of classname => description</div>
</div></div>
</div>
<a id="method_getTrackModel"></a><div class="element clickable method public method_getTrackModel " data-toggle="collapse" data-target=".method_getTrackModel .collapse" title="public">
<h2>Simple function for a default track model.</h2>
<pre>getTrackModel() : \Gems_Tracker_Model_TrackModel</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Returns</h3>
<div class="subelement response"><code>\Gems_Tracker_Model_TrackModel</code></div>
</div></div>
</div>
<a id="method_processCompletedTokens"></a><div class="element clickable method public method_processCompletedTokens " data-toggle="collapse" data-target=".method_processCompletedTokens .collapse" title="public">
<h2>Checks the token table to see if there are any answered surveys to be processed</h2>
<pre>processCompletedTokens(integer $respondentId, integer $userId<code> = null</code>, integer $orgId<code> = null</code>, boolean $quickCheck<code> = false</code>) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If the survey was started (and the token was forwarded to limesurvey) we need to check
if is was completed. If so, we might want to check the track the survey is in to enable
or disable future rounds</p>
<p>Does not reflect changes to tracks or rounds.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$respondentId</h4>
<code>integer</code><p>Id of the respondent to check for or NULL</p></div>
<div class="subelement argument">
<h4>$userId</h4>
<code>integer</code><p>Id of the user who takes the action (for logging)</p></div>
<div class="subelement argument">
<h4>$orgId</h4>
<code>integer</code><p>Optional Id of the organization to check for</p></div>
<div class="subelement argument">
<h4>$quickCheck</h4>
<code>boolean</code><p>Check only tokens with recent gto_start_time's</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>Did we find new answers?</div>
</div></div>
</div>
<a id="method_recalcTrackFields"></a><div class="element clickable method public method_recalcTrackFields " data-toggle="collapse" data-target=".method_recalcTrackFields .collapse" title="public">
<h2>Recalculates the fields in tracks.</h2>
<pre>recalcTrackFields(string $batchId, integer $userId<code> = null</code>, string $cond<code> = null</code>) : \Gems_Task_TaskRunnerBatch</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Does recalculate changed tracks</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$batchId</h4>
<code>string</code><p>A unique identifier for the current batch</p></div>
<div class="subelement argument">
<h4>$userId</h4>
<code>integer</code><p>Id of the user who takes the action (for logging)</p></div>
<div class="subelement argument">
<h4>$cond</h4>
<code>string</code><p>Optional where statement for selecting tracks</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Gems_Task_TaskRunnerBatch</code>A batch to process the changes</div>
</div></div>
</div>
<a id="method_recalculateTokens"></a><div class="element clickable method public method_recalculateTokens " data-toggle="collapse" data-target=".method_recalculateTokens .collapse" title="public">
<h2>Recalculates all token dates, timing and results
and outputs text messages.</h2>
<pre>recalculateTokens(string $batch_id, integer $userId<code> = null</code>, string $cond<code> = null</code>) : \Gems_Task_TaskRunnerBatch</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Does not reflect changes to tracks or rounds.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$batch_id</h4>
<code>string</code><p>A unique identifier for the current batch</p></div>
<div class="subelement argument">
<h4>$userId</h4>
<code>integer</code><p>Id of the user who takes the action (for logging)</p></div>
<div class="subelement argument">
<h4>$cond</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Gems_Task_TaskRunnerBatch</code>A batch to process the changes</div>
</div></div>
</div>
<a id="method_refreshTokenAttributes"></a><div class="element clickable method public method_refreshTokenAttributes " data-toggle="collapse" data-target=".method_refreshTokenAttributes .collapse" title="public">
<h2>Refreshes the tokens in the source</h2>
<pre>refreshTokenAttributes(string $batch_id, string $cond<code> = null</code>) : \Gems_Task_TaskRunnerBatch</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$batch_id</h4>
<code>string</code><p>A unique identifier for the current batch</p></div>
<div class="subelement argument">
<h4>$cond</h4>
<code>string</code><p>An optional where statement</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Gems_Task_TaskRunnerBatch</code>A batch to process the changes</div>
</div></div>
</div>
<a id="method_removeToken"></a><div class="element clickable method public method_removeToken " data-toggle="collapse" data-target=".method_removeToken .collapse" title="public">
<h2>Remove token from cache for saving memory</h2>
<pre>removeToken(string|\Gems_Tracker_Token $token) : \Gems_Tracker</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$token</h4>
<code>string</code><code>\Gems_Tracker_Token</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Gems_Tracker</code>(continuation pattern)</div>
</div></div>
</div>
<a id="method_synchronizeSources"></a><div class="element clickable method public method_synchronizeSources " data-toggle="collapse" data-target=".method_synchronizeSources .collapse" title="public">
<h2>Recalculates all token dates, timing and results
and outputs text messages.</h2>
<pre>synchronizeSources(integer $sourceId<code> = null</code>, integer $userId<code> = null</code>) : \Gems_Task_TaskRunnerBatch</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>Does not reflect changes to tracks or rounds.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$sourceId</h4>
<code>integer</code><p>A source identifier</p></div>
<div class="subelement argument">
<h4>$userId</h4>
<code>integer</code><p>Id of the user who takes the action (for logging)</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\Gems_Task_TaskRunnerBatch</code>A batch to process the synchronization</div>
</div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.8.5</a> and<br>
            generated on 2016-08-08T13:22:47+02:00.<br></footer></div>
</div>
</body>
</html>
